import{mkdir as e,writeFile as t}from"node:fs/promises";import n from"node:path";async function r(){let r=`https://raw.githubusercontent.com/free-nodes/clashfree/refs/heads/main/README.md`,i=await(await fetch(r)).text(),a=i.indexOf("```")+3,o=i.lastIndexOf("```"),s=i.slice(a,o),c=n.resolve(process.cwd(),`data`);await e(c,{recursive:!0});let l=n.join(c,`clash.yml`);await t(l,s,`utf8`)}const i=()=>r().catch(e=>{console.error(`❌ 脚本执行出错：`,e),process.exit(1)});async function a(){let r=`https://raw.githubusercontent.com/free-nodes/v2rayfree/refs/heads/main/README.md`,i=await(await fetch(r)).text(),a=i.indexOf("```")+3,o=i.lastIndexOf("```"),s=i.slice(a,o),c=n.resolve(process.cwd(),`data`);await e(c,{recursive:!0});let l=n.join(c,`v2ray.txt`);await t(l,s,`utf8`)}const o=()=>a().catch(e=>{console.error(`❌ 脚本执行出错：`,e),process.exit(1)});await Promise.all([o(),i()]);